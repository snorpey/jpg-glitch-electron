{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9b05","webpack:///src/App.vue","webpack:///./src/components/AboutPage.vue?7199","webpack:///./src/components/EditPage/Controls.vue?ae5f","webpack:///./src/store/modules/About.js","webpack:///./src/store/modules/Files.js","webpack:///./src/util/blob.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?ead6","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue?a938","webpack:///./src/router/index.js","webpack:///./src/registerServiceWorker.js","webpack:///./src/main.js","webpack:///./src/util/path.js","webpack:///./src/util/buffer.js","webpack:///./src/util/file.js","webpack:///./src/components/EditPage/GlitchImage.vue?c158","webpack:///./src/components/EditPage.vue?1fb6","webpack:///./src/components/EditPage/TabBar.vue?65fa","webpack:///./src/components/EditPage/ImportBtn.vue?1024","webpack:///src/components/EditPage/ImportBtn.vue","webpack:///./src/components/EditPage/ImportBtn.vue?c1db","webpack:///./src/components/EditPage/ImportBtn.vue","webpack:///src/components/EditPage/TabBar.vue","webpack:///./src/components/EditPage/TabBar.vue?8881","webpack:///./src/components/EditPage/TabBar.vue?3ace","webpack:///./src/components/EditPage/GlitchImage.vue?db62","webpack:///./src/util/eventBus.js","webpack:///src/components/EditPage/GlitchImage.vue","webpack:///./src/components/EditPage/GlitchImage.vue?34a6","webpack:///./src/components/EditPage/GlitchImage.vue?9645","webpack:///./src/components/EditPage/Controls.vue?62b6","webpack:///src/components/EditPage/Controls.vue","webpack:///./src/components/EditPage/Controls.vue?7644","webpack:///./src/components/EditPage/Controls.vue?d601","webpack:///./src/components/EditPage/Workspace.vue?23f1","webpack:///./src/util/css.js","webpack:///./src/util/dom.js","webpack:///./src/util/PanZoom.js","webpack:///src/components/EditPage/Workspace.vue","webpack:///./src/components/EditPage/Workspace.vue?03d9","webpack:///./src/components/EditPage/Workspace.vue?db78","webpack:///./src/components/EditPage/ExportBtn.vue?8d27","webpack:///src/components/EditPage/ExportBtn.vue","webpack:///./src/components/EditPage/ExportBtn.vue?2d9f","webpack:///./src/components/EditPage/ExportBtn.vue","webpack:///./src/components/EditPage/SaveBtn.vue?5db7","webpack:///src/components/EditPage/SaveBtn.vue","webpack:///./src/components/EditPage/SaveBtn.vue?4d30","webpack:///./src/components/EditPage/SaveBtn.vue","webpack:///src/components/EditPage.vue","webpack:///./src/components/EditPage.vue?c21b","webpack:///./src/components/EditPage.vue?cf42","webpack:///./src/components/AboutPage.vue?3854","webpack:///src/components/AboutPage.vue","webpack:///./src/components/AboutPage.vue?93f5","webpack:///./src/components/AboutPage.vue?db27","webpack:///./src/util/image.js","webpack:///./src/components/EditPage.vue?0973","webpack:///./src/components/EditPage/Workspace.vue?76ba","webpack:///./src/components/EditPage/TabBar.vue?7894"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","state","show","getters","isShowingAbout","mutations","SHOW","HIDE","actions","showAbout","commit","hideAbout","toggleAbout","dispatch","openFileDialog","exportFileAs","saveFileAs","saveFile","revokeObjectURL","blobURL","URL","files","activeFileId","defaultParams","seed","quality","amount","iterations","filteredFiles","filter","file","fileById","fileId","hasOpenFiles","activeFile","isFileActive","hasFileUnsavedChanges","history","latestEvent","events","params","assign","process","IS_ELECTRON","then","initFileInputField","ADD_FILE","REMOVE_FILE","indexData","map","index","id","SET_ACTIVE_FILE_ID","newId","ADD_EVENT","change","SET_FILE_ATTR","requestToImportImage","openDialogParams","properties","filters","extensions","tnen","glitchFiles","requestToExportImage","glitchFile","glitchBlobURL","exportAsResult","fileName","getFileName","filePath","requestToOpenFiles","openFiles","forEach","isOnHardDrive","saveResult","requestToSaveFileAs","saveAsResult","closeFile","srcBlobURL","updateActiveFile","activateFile","updateControl","randomControlValues","keys","Math","floor","random","updateHistory","date","Date","now","updateGlitch","dataURL","dataURLtoBlobURL","quit","Vue","use","Vuex","Store","Files","About","strict","_vm","this","_h","$createElement","_c","_self","class","appCSSClasses","attrs","staticRenderFns","component","Router","routes","path","require","default","redirect","register","ready","log","registered","cached","updatefound","updated","offline","config","productionTip","router","store","render","h","App","$mount","basename","suffix","lastChar","charAt","replace","substr","extname","split","pop","includeExtension","getExtension","extension","indexOf","toLowerCase","isImageFilePath","isGlitchFilePath","toArrayBuffer","buf","ab","ArrayBuffer","view","Uint8Array","len","loadFile","encoding","readFile","fileContent","writeFile","loadTextFile","saveTextFile","fetchBlob","fetch","res","blob","blobUrlToBuffer","toBuffer","buffer","staticClass","_e","slot","_v","isElectron","infoBtnCSSClasses","on","infoClicked","openClicked","homepage","_l","tabCSSClasses","hasUnsavedChanges","$event","_s","importClicked","_t","imageLoaded","eventBus","domProps","controlChanged","randomClicked","getCSSMatrix","el","style","getComputedStyle","getPropertyValue","cssMatrixToTransformObj","matrix","obj","values","match","rotate","round","atan2","parseFloat","PI","toString","translateStr","translateX","translateY","isDescendant","parentEl","childEl","node","parentNode","PanZoom","containerEl","targetEl","opts","canZoomWithPonter","shouldCaptureFn","limitToContainer","limitPadding","transform","x","y","scale","active","lastPoints","centerScale","containerBounds","getBoundingClientRect","targetBounds","forceCenter","updateAnimationFrameId","NaN","scaleAnimationFrameId","centerAnimationFrameId","resizeTimeoutId","targetElSize","width","height","containerElSize","isAnimating","pointerMovedHandler","pointerMoved","pointerReleasedHandler","pointerReleased","addEventListener","pointerPressed","wheelTurned","animateToCenter","resized","WebkitTransformOrigin","transformOrigin","elementResizeEvent","updateDimensions","updateValues","clientWidth","clientHeight","setToCenter","newX","newY","newScale","cancelAnimationFrame","scaledPadding","scaledTargetSize","scaledContainerSize","min","max","requestAnimationFrame","update","WebkitTransform","preventDefault","delta","deltaY","deltaMode","scaleDiff","pageX","left","pageY","top","getPoints","which","firstPointerPressed","points","averagePoint","reduce","getMidpoint","averageLastPoint","tmpX","tmpY","touchDistance","removeEventListener","centerValues","deltaX","deltaScale","easing","centerAnimationStep","abs","targetX","targetY","scaleAnimationStep","self","targetScale","getXY","touch1","touch2","sqrt","point1","point2","touches","Array","exportClicked","saveClicked","appIcon","appName","appVersion","author","url","linkClicked","bugs","closeClicked","blobURLFromImagePath","imagePath","mimeType","getMimeTypeFromFilePath","arrayBuffer","createObjectURL","arrayBufferToBlob","blobURLFromArrayBuffer","dataURLToBlob"],"mappings":"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","file":"js/app.dbe59bc6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d212edf\":\"1eb927b3\",\"chunk-2f3394ca\":\"1c0c3e3a\",\"chunk-853b758e\":\"500f9fb5\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","<template>\n\t<div id=\"app\" :class=\"appCSSClasses\">\n\t\t<router-view></router-view>\n\t\t<about-page />\n\t</div>\n</template>\n\n<style>\n#app {\n\theight: 100%;\n\twidth: 100%;\n\tmax-height: 100vh;\n}\n</style>\n\n<script>\nimport AboutPage from '@/components/AboutPage';\n\nexport default {\n\tname: 'jpg-glitch-electron',\n\tcomponents: { AboutPage },\n\tdata () {\n\t\treturn {\n\t\t\tmenu: null\n\t\t}\n\t},\n\tcomputed: {\n\t\tappCSSClasses () {\n\t\t\treturn {\n\t\t\t\t'is-mac': process.platform === 'darwin'\n\t\t\t}\n\t\t},\n\t\tfileMenuItem () {\n\t\t\treturn this.hasMenu ? this.menu.items.filter( item => item.id === 'file' )[0] : null;\n\t\t},\n\t\tsaveMenuItem () {\n\t\t\treturn this.fileMenuItem ? this.fileMenuItem.submenu.items.filter( item => item.id === 'save' )[0] : null;\n\t\t},\n\t\tsaveAsMenuItem () {\n\t\t\treturn this.fileMenuItem ? this.fileMenuItem.submenu.items.filter( item => item.id === 'saveas' )[0] : null;\n\t\t},\n\t\texportMenuItem () {\n\t\t\treturn this.fileMenuItem ? this.fileMenuItem.submenu.items.filter( item => item.id === 'export' )[0] : null;\n\t\t},\n\t\thasOpenFiles () {\n\t\t\treturn this.$store.getters.files.length;\n\t\t},\n\t\tactiveFile () {\n\t\t\treturn this.$store.getters.activeFile;\n\t\t},\n\t\tisSaveMenuItemEnabled () {\n\t\t\treturn !! this.activeFile && !! this.activeFile.filePath;\n\t\t},\n\t\tisSaveAsMenuItemEnabled () {\n\t\t\treturn !! this.activeFile;\n\t\t},\n\t\tisExportMenuItemEnabled () {\n\t\t\treturn !! this.activeFile && !! this.activeFile.glitchBlobURL;\n\t\t},\n\t\thasMenu () {\n\t\t\treturn !! this.menu;\n\t\t}\n\t},\n\n\tcreated () {\n\t\tif ( process.env.IS_ELECTRON ) {\n\t\t\timport( '@/menu.js' )\n\t\t\t\t.then( module => {\n\t\t\t\t\tthis.menu = module.menu;\n\t\t\t\t\tmodule.initMenu();\n\t\t\t\t} );\n\t\t}\n\t},\n\n\tmounted () {\n\t\twindow.addEventListener( 'beforeunload', event => {\n\t\t\tthis.$store.dispatch( 'quit' );\n\t\t} );\n\n\t\t// window.onbeforeunload = function (e) { return false }\n\t},\n\twatch: {\n\t\t// dynamically enable / disable menu items\n\t\tisSaveMenuItemEnabled ( enabled ) {\n\t\t\tif ( this.hasMenu ) {\n\t\t\t\tthis.saveMenuItem.enabled = enabled;\n\t\t\t}\n\t\t},\n\t\tisSaveAsMenuItemEnabled ( enabled ) {\n\t\t\tif ( this.hasMenu ) {\n\t\t\t\tthis.saveAsMenuItem.enabled = enabled;\n\t\t\t}\n\t\t},\n\t\tisExportMenuItemEnabled ( enabled ) {\n\t\t\tif ( this.hasMenu ) {\n\t\t\t\tthis.exportMenuItem.enabled = enabled;\n\t\t\t}\n\t\t},\n\t\thasMenu ( hasMenu ) {\n\t\t\tif ( this.hasMenu ) {\n\t\t\t\tthis.saveMenuItem.enabled = false;\n\t\t\t\tthis.saveAsMenuItem.enabled = false;\n\t\t\t\tthis.exportMenuItem.enabled = false;\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutPage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutPage.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&lang=css&\"","const state = {\n\tshow: false\n};\n\nconst getters = {\n\tisShowingAbout ( state ) {\n\t\treturn state.show;\n\t}\n};\n\nconst mutations = {\n\tSHOW ( state ) {\n\t\tstate.show = true;\n\t},\n\tHIDE ( state ) {\n\t\tstate.show = false;\n\t}\n};\n\nconst actions = {\n\tshowAbout ( { commit } ) {\n\t\tcommit( 'SHOW' );\n\t},\n\n\thideAbout ( { commit } ) {\n\t\tcommit( 'HIDE' );\n\t},\n\n\ttoggleAbout ( { state, dispatch } ) {\n\t\tdispatch( state.show ? 'hideAbout' : 'showAbout' );\n\t}\n};\n\nexport default {\n\tstate,\n\tgetters,\n\tmutations,\n\tactions\n};\n","// import { arrayBufferToBlob } from 'blob-util';\nimport {\n\tloadLocalImageToImageData,\n\tblobURLFromImageFile,\n\tdataURLtoBlobURL,\n\tgetBlobURL\n} from '@/util/image.js';\nimport { getFileName, getExtension } from '@/util/path.js';\nimport { blobUrlToBuffer, /*saveFile,*/ fetchBlob, loadTextFile } from '@/util/file.js';\nimport { clone } from '@/util/object.js';\nimport { toArrayBuffer } from '@/util/buffer.js';\nimport { revokeObjectURL } from '@/util/blob.js';\n\nlet openFileDialog;\nlet exportFileAs;\nlet saveFileAs;\nlet saveFile;\n\nconst state = {\n\tfiles: [ ],\n\tactiveFileId: null,\n\tdefaultParams: {\n\t\tseed:       25, // integer between 0 and 99\n\t\tquality:    30, // integer between 0 and 99\n\t\tamount:     35, // integer between 0 and 99\n\t\titerations: 20  // integer\n\t}\n};\n\nconst getters = {\n\tfiles ( state ) {\n\t\t// return classes\n\t\treturn state.files;\n\t},\n\n\tfilteredFiles: ( state, getters ) => ( key, value ) => {\n\t\treturn getters.files.filter( file => file[key] === value );\n\t},\n\n\tfileById: ( state, getters ) => fileId => {\n\t\treturn getters.filteredFiles( 'id', fileId )[0];\n\t},\n\n\thasOpenFiles ( state ) {\n\t\treturn state.files.length;\n\t},\n\n\tactiveFileId ( state ) {\n\t\treturn state.activeFileId;\n\t},\n\n\tactiveFile ( state, getters ) {\n\t\treturn getters.fileById( getters.activeFileId );\n\t},\n\n\tisFileActive: state => fileId => {\n\t\treturn state.activeFileId === fileId;\n\t},\n\n\thasFileUnsavedChanges: ( state, getters ) => fileId => {\n\t\tconst file = getters.fileById( fileId );\n\n\t\tif ( file ) {\n\t\t\treturn file.history.length ? file.history[file.history.length - 1].type !== 'save' : false;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\n\tlatestEvent: ( state, getters ) => ( fileId, key ) => {\n\t\tconst file = getters.fileById( fileId );\n\n\t\tif ( file ) {\n\t\t\tconst events = file.history.filter( event => event.key === key );\n\t\t\treturn events.length ? events[events.length - 1].value : state.defaultParams[key];\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t},\n\n\tparams: ( state, getters ) => fileId => {\n\t\treturn {\n\t\t\tseed: getters.latestEvent( fileId, 'seed' ),\n\t\t\tquality: getters.latestEvent( fileId, 'quality' ),\n\t\t\tamount: getters.latestEvent( fileId, 'amount' ),\n\t\t\titerations: getters.latestEvent( fileId, 'iterations' )\n\t\t};\n\t},\n\n\tdefaultParams ( state ) {\n\t\treturn Object.assign( { }, state.defaultParams );\n\t}\n};\n\nif ( ! process.env.IS_ELECTRON ) {\n\t// create file input listener\n\timport('@/util/browser.js')\n\t\t.then( module => {\n\t\t\tmodule.initFileInputField()\n\t\t} );\n}\n\nconst mutations = {\n\tADD_FILE ( state, file ) {\n\t\tstate.files.push( file );\n\t},\n\n\tREMOVE_FILE ( state, file ) {\n\t\tconst indexData = state.files\n\t\t\t.map( ( file, index ) => {\n\t\t\t\treturn { id: file.id, index };\n\t\t\t} )\n\t\t\t.filter( data => data.id === file.id )[0];\n\n\t\tif ( indexData ) {\n\t\t\tstate.files.splice( indexData.index, 1 );\n\t\t}\n\t},\n\n\tSET_ACTIVE_FILE_ID ( state, newId ) {\n\t\tstate.activeFileId = newId;\n\t},\n\n\tADD_EVENT ( state, change ) {\n\t\tchange.file.history.push( change.event );\n\t},\n\n\tSET_FILE_ATTR ( state, change ) {\n\t\tif ( change && change.file && change.key ) {\n\t\t\tchange.file[change.key] = change.value;\n\t\t}\n\t}\n};\n\nconst actions = {\n\trequestToImportImage ( { dispatch } ) {\n\t\tlet promise = Promise.resolve( [ ] );\n\t\t\n\t\tconst openDialogParams = {\n\t\t\tproperties: [ 'openFile', 'multiSelections' ],\n\t\t\tfilters: [\n\t\t\t\t{ name: 'Images', extensions: [ 'jpg', 'jpeg', 'png', 'glitch' ] }\n\t\t\t]\n\t\t};\n\n\t\tif ( process.env.IS_ELECTRON ) {\n\t\t\tpromise = openFileDialog\n\t\t\t\t? Promise.resolve()\n\t\t\t\t: import('@/util/electron.js').then( module => openFileDialog = module.openFileDialog );\n\n\t\t\tpromise = promise\n\t\t\t\t.then( () => openFileDialog( openDialogParams ) )\n\t\t\t\t.tnen( glitchFiles => dispatch( 'openFiles', glitchFiles ) );\n\t\t}\n\n\t\t// import in browser works differently and\n\t\t// cannot be triggered by a function\n\t},\n\n\trequestToExportImage ( { dispatch, getters }, fileId ) {\n\t\tconst glitchFile = getters.fileById( fileId );\n\n\t\tif ( glitchFile && glitchFile.glitchBlobURL ) {\n\t\t\tlet promise = Promise.resolve();\n\t\t\t\n\t\t\tif ( process.env.IS_ELECTRON ) {\n\t\t\t\t// import dependency on the fly\n\t\t\t\tpromise = exportFileAs\n\t\t\t\t\t\t? Promise.resolve()\n\t\t\t\t\t\t: import('@/util/electron.js').then( module => exportFileAs = module.exportFileAs );\n\n\t\t\t\t\tpromise = promise.then( () => {\n\t\t\t\t\t\treturn exportFileAs( glitchFile );\n\t\t\t\t\t} )\n\t\t\t\t\t.then( exportAsResult => {\n\t\t\t\t\t\tif ( exportAsResult ) {\n\t\t\t\t\t\t\tdispatch( 'updateHistory', {\n\t\t\t\t\t\t\t\tfileId,\n\t\t\t\t\t\t\t\tevent: {\n\t\t\t\t\t\t\t\t\ttype: 'export',\n\t\t\t\t\t\t\t\t\tfileName: getFileName( exportAsResult.filePath, true )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t} else {\n\t\t\t\t// import dependency on the fly\n\t\t\t\tpromise = exportFileAs\n\t\t\t\t\t? Promise.resolve()\n\t\t\t\t\t: import('@/util/browser.js').then( module => exportFileAs = module.exportFileAs );\n\n\t\t\t\tpromise = promise.then( () => {\n\t\t\t\t\treturn exportFileAs( glitchFile );\n\t\t\t\t} )\n\t\t\t\t.then( () => {\n\t\t\t\t\tdispatch( 'updateHistory', {\n\t\t\t\t\t\tfileId,\n\t\t\t\t\t\tevent: {\n\t\t\t\t\t\t\ttype: 'export',\n\t\t\t\t\t\t\tfileName: getFileName( glitchFile.fileName ) + '.glitch'\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t},\n\n\trequestToOpenFiles ( { getters, dispatch } ) {\n\t\tlet promise = Promise.resolve( [ ] );\n\t\t\n\t\tconst openDialogParams = {\n\t\t\tproperties: [ 'openFile', 'multiSelections' ],\n\t\t\tfilters: [\n\t\t\t\t{ name: 'Images', extensions: [ 'jpg', 'jpeg', 'png', 'glitch' ] }\n\t\t\t]\n\t\t};\n\n\t\tif ( process.env.IS_ELECTRON ) {\n\t\t\tpromise = openFileDialog\n\t\t\t\t? Promise.resolve()\n\t\t\t\t: import('@/util/electron.js').then( module => openFileDialog = module.openFileDialog );\n\n\t\t\tpromise = promise.then( () => {\n\t\t\t\treturn openFileDialog( openDialogParams );\n\t\t\t} );\n\t\t} else {\n\t\t\t// import dependency on the fly\n\t\t\tpromise = openFileDialog\n\t\t\t\t? Promise.resolve()\n\t\t\t\t: import('@/util/browser.js').then( module => openFileDialog = module.openFileDialog );\n\n\t\t\tpromise = promise.then( () => {\n\t\t\t\treturn openFileDialog( openDialogParams );\n\t\t\t} );\n\t\t}\n\n\t\tpromise\n\t\t\t.then( glitchFiles => dispatch( 'openFiles', glitchFiles ) );\n\t},\n\n\topenFiles ( { getters, dispatch, commit }, glitchFiles ) {\n\t\tglitchFiles.forEach( file => {\n\t\t\tcommit( 'ADD_FILE', file );\n\t\t} );\n\n\t\tdispatch( 'updateActiveFile' );\n\t},\n\n\tsaveFile ( { getters, dispatch, commit }, fileId ) {\n\t\tconst glitchFile = getters.fileById( fileId );\n\n\t\tif ( process.env.IS_ELECTRON ) {\n\t\t\tif ( glitchFile ) {\n\t\t\t\tif (\n\t\t\t\t\tglitchFile.isOnHardDrive &&\n\t\t\t\t\tglitchFile.filePath\n\t\t\t\t) {\n\t\t\t\t\tlet promise = Promise.resolve();\n\t\t\t\t\t\n\t\t\t\t\tpromise = saveFile\n\t\t\t\t\t\t? Promise.resolve()\n\t\t\t\t\t\t: import( '@/util/electron.js' )\n\t\t\t\t\t\t\t.then( module => saveFile = module.saveFile );\n\n\t\t\t\t\tpromise = promise\n\t\t\t\t\t\t.then( () => saveFile( glitchFile ) )\n\t\t\t\t\t\t.then( saveResult => {\n\n\t\t\t\t\t\t\tif ( saveResult ) {\n\t\t\t\t\t\t\t\tdispatch( 'updateHistory', {\n\t\t\t\t\t\t\t\t\tfileId,\n\t\t\t\t\t\t\t\t\tevent: {\n\t\t\t\t\t\t\t\t\t\ttype: 'save',\n\t\t\t\t\t\t\t\t\t\tfileName: getFileName( saveResult.filePath, true )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\n\t\t\t\t\treturn promise;\n\t\t\t\t} else {\n\t\t\t\t\tdispatch( 'requestToSaveFileAs', fileId );\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// no glitch file found\n\t\t\t}\n\t\t} else {\n\t\t\tif ( glitchFile ) {\n\t\t\t\tdispatch( 'requestToSaveFileAs', fileId );\n\t\t\t}\n\t\t}\n\t},\n\n\trequestToSaveFileAs ( { dispatch, commit, getters }, fileId ) {\n\t\tconst glitchFile = getters.fileById( fileId );\n\n\t\tif ( glitchFile ) {\n\t\t\tlet promise = Promise.resolve();\n\t\t\t\n\t\t\tif ( process.env.IS_ELECTRON ) {\t\t\t\t\t\t\t\t\n\t\t\t\tpromise = saveFileAs\n\t\t\t\t\t\t? Promise.resolve()\n\t\t\t\t\t\t: import( '@/util/electron.js' )\n\t\t\t\t\t\t\t.then( module => saveFileAs = module.saveFileAs );\n\n\t\t\t\tpromise = promise\n\t\t\t\t\t.then( () => saveFileAs( glitchFile ) )\n\t\t\t\t\t.then( saveAsResult => {\n\t\t\t\t\t\t// update glitchFile and and name if the user stored a different file name\t\t\t\t\t\t\n\t\t\t\t\t\tif ( glitchFile.fileName !== getFileName( saveAsResult.filePath ) ) {\n\t\t\t\t\t\t\tcommit( 'SET_FILE_ATTR', {\n\t\t\t\t\t\t\t\tfile: glitchFile,\n\t\t\t\t\t\t\t\tkey: 'fileName',\n\t\t\t\t\t\t\t\tvalue: getFileName( saveAsResult.filePath )\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcommit( 'SET_FILE_ATTR', {\n\t\t\t\t\t\t\tfile: glitchFile,\n\t\t\t\t\t\t\tkey: 'filePath',\n\t\t\t\t\t\t\tvalue: saveAsResult.filePath\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tcommit( 'SET_FILE_ATTR', {\n\t\t\t\t\t\t\tfile: glitchFile,\n\t\t\t\t\t\t\tkey: 'isOnHardDrive',\n\t\t\t\t\t\t\tvalue: true\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tdispatch( 'updateHistory', {\n\t\t\t\t\t\t\tfileId,\n\t\t\t\t\t\t\tevent: {\n\t\t\t\t\t\t\t\ttype: 'save',\n\t\t\t\t\t\t\t\tfileName: getFileName( saveAsResult.filePath, true )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\t// import dependency on the fly\n\t\t\t\tpromise = saveFileAs\n\t\t\t\t\t? Promise.resolve()\n\t\t\t\t\t: import('@/util/browser.js').then( module => saveFileAs = module.saveFileAs );\n\n\t\t\t\tpromise = promise\n\t\t\t\t\t.then( () => {\n\t\t\t\t\t\t// convert BlobURL to ArrayBuffer\n\t\t\t\t\t\t// that we can store in JSON format\n\t\t\t\t\t\treturn saveFileAs( glitchFile )\n\t\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t},\n\n\tcloseFile ( { dispatch, commit, getters }, fileId ) {\n\t\tconst file = getters.fileById( fileId );\n\t\t\n\t\tif ( file ) {\n\t\t\tif ( file.glitchBlobURL ) {\n\t\t\t\tif ( process.env.IS_ELECTRON ) {\n\t\t\t\t\trevokeObjectURL( file.glitchBlobURL );\n\t\t\t\t} else {\n\t\t\t\t\tURL.revokeObjectURL( file.glitchBlobURL );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( file.srcBlobURL ) {\n\t\t\t\tif ( process.env.IS_ELECTRON ) {\n\t\t\t\t\trevokeObjectURL( file.srcBlobURL );\n\t\t\t\t} else {\n\t\t\t\t\tURL.revokeObjectURL( file.srcBlobURL );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcommit( 'REMOVE_FILE', file );\n\t\t\tdispatch( 'updateActiveFile' );\n\t\t}\n\t},\n\n\tupdateActiveFile ( { getters, dispatch } ) {\n\t\tif ( getters.activeFileId && ! getters.files.length ) {\n\t\t\tdispatch( 'activateFile', null );\n\t\t}\n\n\t\tif ( ! getters.activeFileId && getters.files.length ) {\n\t\t\tdispatch( 'activateFile', getters.files[0].id );\n\t\t}\n\n\t\tif (\n\t\t\tgetters.activeFileId &&\n\t\t\tgetters.files.length &&\n\t\t\t! getters.fileById( getters.activeFileId )\n\t\t) {\n\t\t\tdispatch( 'activateFile', getters.files[0].id );\n\t\t}\n\t},\n\n\tactivateFile ( { getters, commit }, fileId = null ) {\n\t\tif ( getters.fileById( fileId ) || fileId === null ) {\n\t\t\tcommit( 'SET_ACTIVE_FILE_ID', fileId );\n\t\t}\n\t},\n\n\tupdateControl ( { getters, dispatch }, change ) {\n\t\tif ( change ) {\n\t\t\tconst event = {\n\t\t\t\ttype: change.type || 'param',\n\t\t\t\tkey: change.key,\n\t\t\t\tvalue: change.value\n\t\t\t};\n\t\t\t\t\t\t\n\t\t\tdispatch( 'updateHistory', { fileId: change.fileId, event } );\n\t\t}\n\t},\n\n\trandomControlValues ( { getters, dispatch }, change ) {\n\t\tif ( change ) {\n\t\t\tObject.keys( getters.defaultParams )\n\t\t\t\t.forEach( key => {\n\t\t\t\t\tconst event = {\n\t\t\t\t\t\ttype: 'param',\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tvalue: Math.floor( Math.random() * 100 )\n\t\t\t\t\t};\n\n\t\t\t\t\tdispatch( 'updateHistory', { fileId: change.fileId, event } );\n\t\t\t\t} );\t\t\t\n\t\t}\n\t},\n\n\tupdateHistory ( { getters, commit }, change ) {\n\t\tconst event = change.event;\n\t\tconst file = getters.fileById( change.fileId );\n\n\t\tif ( file && event && event.type ) {\n\t\t\tif ( ! event.date ) {\n\t\t\t\tevent.date = Date.now();\n\t\t\t}\n\n\t\t\tcommit( 'ADD_EVENT', { file, event } );\n\t\t}\n\t},\n\n\tupdateGlitch ( { getters, commit }, change ) {\n\t\tconst file = getters.fileById( change.fileId );\n\n\t\tif ( file && change.dataURL ) {\n\t\t\tconst glitchBlobURL = dataURLtoBlobURL( change.dataURL );\n\n\t\t\tcommit( 'SET_FILE_ATTR', { file, key: 'glitchBlobURL', value: glitchBlobURL } );\n\t\t}\n\t},\n\n\tquit ( { getters, commit } ) {\n\t\tgetters.files.forEach( file => {\n\t\t\tif ( file.srcBlobURL ) {\n\t\t\t\trevokeObjectURL( file.srcBlobURL );\n\t\t\t}\n\n\t\t\tif ( file.glitchBlobURL ) {\n\t\t\t\trevokeObjectURL( file.glitchBlobURL );\n\t\t\t}\n\t\t} );\n\t}\n};\n\nexport default {\n\tgetters,\n\tstate,\n\tmutations,\n\tactions\n};\n","// import blobUtil from 'blob-util';\n\nexport function revokeObjectURL ( blobURL ) {\n\t// blobUtil.revokeObjectURL( blobURL );\n\tURL.revokeObjectURL( blobURL );\n}","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport About from './modules/About.js';\nimport Files from './modules/Files.js';\n\nVue.use( Vuex );\n\nexport default new Vuex.Store( {\n\tmodules: {\n\t\tFiles,\n\t\tAbout\n\t},\n\tstrict: true//process.env.NODE_ENV !== 'production'\n} );\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.appCSSClasses,attrs:{\"id\":\"app\"}},[_c('router-view'),_c('about-page')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=63ac6cf8&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Router from 'vue-router';\n\nVue.use( Router );\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'edit-page',\n      component: require( '@/components/EditPage' ).default\n    },\n    {\n      path: '*',\n      redirect: '/'\n    }\n  ]\n})\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n\tregister(`${process.env.BASE_URL}service-worker.js`, {\n\t\tready () {\n\t\t\tconsole.log(\n\t\t\t\t'App is being served from cache by a service worker.\\n' +\n\t\t\t\t'For more details, visit https://goo.gl/AFskqB'\n\t\t\t)\n\t\t},\n\t\tregistered () {\n\t\t\tconsole.log('Service worker has been registered.')\n\t\t},\n\t\tcached () {\n\t\t\tconsole.log('Content has been cached for offline use.')\n\t\t},\n\t\tupdatefound () {\n\t\t\tconsole.log('New content is downloading.')\n\t\t},\n\t\tupdated () {\n\t\t\tconsole.log('New content is available; please refresh.')\n\t\t},\n\t\toffline () {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.')\n\t\t},\n\t\terror (error) {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t}\n\t})\n}\n","import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport './registerServiceWorker';\nimport styles from '@/assets/css/stylesheet.css';\n\nVue.config.productionTip = false\n\nnew Vue( {\n\trouter,\n\tstore,\n\trender: h => h( App )\n} ).$mount( '#app' );\n","// import { extname } from 'path';\n\n// we need these functions to be platform independent\n// so we can't rely on the node implementation\n// https://locutus.io/php/filesystem/basename/\nexport function basename ( filePath, suffix ) {\n\tlet path = filePath;\n\tconst lastChar = path.charAt( path.length - 1 );\n\n\tif (\n\t\tlastChar === '/' ||\n\t\tlastChar === '\\\\'\n\t) {\n\t\tpath = path.slice( 0, -1 );\n\t}\n\n\tpath = path.replace( /^.*[/\\\\]/g, '' );\n\n\tif (\n\t\ttypeof suffix === 'string' &&\n\t\tpath.substr( path.length - suffix.length ) === suffix\n\t) {\n\t\tpath = path.substr( 0, path.length - suffix.length );\n\t}\n\n\treturn path;\n}\n\n// https://stackoverflow.com/a/190878\nexport function extname ( filePath ) {\n\treturn filePath.split( '.' ).pop();\n}\n\nexport function getFileName( filePath, includeExtension = false ) {\n\tif ( includeExtension ) {\n\t\treturn basename( filePath );\n\t} else {\n\t\treturn basename( filePath, '.' + extname( filePath ) );\n\t}\n}\n\nexport function getExtension ( filePath ) {\n\tlet extension = extname( filePath );\n\t\n\tif ( extension.indexOf( '.' ) === 0 ) {\n\t\textension = extension.substr( 1 );\n\t}\n\t\n\treturn extension.toLowerCase();\n}\n\nexport function isImageFilePath ( filePath ) {\n\treturn [ 'jpg', 'jpeg', 'png', 'gif', 'svg' ].indexOf( getExtension( filePath ) ) !== -1;\n}\n\nexport function isGlitchFilePath ( filePath ) {\n\treturn [ 'glitch' ].indexOf( getExtension( filePath ) ) !== -1;\n}","export function toArrayBuffer ( buf ) {\n\tconst ab = new ArrayBuffer( buf.length );\n\tconst view = new Uint8Array( ab );\n\t\n\tfor ( var i = 0, len = buf.length; i < len; ++i ) {\n\t\tview[i] = buf[i];\n\t}\n\n\treturn ab;\n}","// {\n// \tname\n//  content\n//  meta?\n//  path (complete) => Node Only\n// }\n\nimport toBuffer from 'blob-to-buffer';\nimport { readFile, writeFile } from 'fs';\n\nexport function loadFile ( filePath, encoding ) {\n\treturn new Promise( ( resolve, reject ) => {\n\t\treadFile( filePath, encoding, ( err, fileContent ) => {\n\t\t\tif ( err ) {\n\t\t\t\treject( err );\n\t\t\t} else {\n\t\t\t\tresolve( { filePath, fileContent } );\n\t\t\t}\n\t\t} );\n\t} );\n}\n\nexport function saveFile ( filePath, fileContent, encoding ) {\n\treturn new Promise( ( resolve, reject ) => {\n\t\twriteFile( filePath, fileContent, encoding, err => {\n\t\t\tif ( err ) {\n\t\t\t\treject( err );\n\t\t\t} else {\n\t\t\t\tresolve( { filePath, fileContent } );\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n// export function saveFileAs ( fileNameWithExtension, fileContent, encoding ) {\n// \treturn save( fileContent, fileNameWithExtension );\n// }\n\nexport function loadTextFile ( filePath ) {\n\treturn loadFile( filePath, 'utf-8' );\n}\n\nexport function saveTextFile ( filePath, fileContent, encoding = 'utf8' ) {\n\treturn saveFile( filePath, fileContent, encoding );\n}\n\n// export function saveTextFileAs ( fileNameWithExtension, fileContent, encoding = 'utf8' ) {\n// \treturn saveFileAs( fileNameWithExtension, fileContent, encoding );\n// }\n\nexport function fetchBlob ( blobURL ) {\n\treturn fetch( blobURL )\n\t\t.then( res => res.blob() );\n}\n\nexport function blobUrlToBuffer ( blobURL ) {\n\treturn fetchBlob( blobURL )\n\t\t.then( blob => {\n\t\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\t\ttoBuffer( blob, ( err, buffer ) => {\n\t\t\t\t\tif ( err ) {\n\t\t\t\t\t\treject( err );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve( buffer );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t} );\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlitchImage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlitchImage.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page edit-page\"},[_c('tab-bar'),(_vm.activeFileId)?_c('controls',{attrs:{\"fileId\":_vm.activeFileId}}):_vm._e(),(_vm.activeFileId)?_c('workspace',{attrs:{\"fileId\":_vm.activeFileId}},[_c('glitch-image',{attrs:{\"fileId\":_vm.activeFileId}}),(_vm.activeFileId)?_c('export-btn',{attrs:{\"slot\":\"workspace-controls\",\"fileId\":_vm.activeFileId},slot:\"workspace-controls\"},[_vm._v(\"export\")]):_vm._e(),(_vm.activeFileId)?_c('save-btn',{attrs:{\"slot\":\"workspace-controls\",\"fileId\":_vm.activeFileId},slot:\"workspace-controls\"},[_vm._v(\"save\")]):_vm._e(),(! _vm.isElectron)?_c('button',{staticClass:\"btn about-btn\",class:_vm.infoBtnCSSClasses,attrs:{\"slot\":\"workspace-info\"},on:{\"click\":_vm.infoClicked},slot:\"workspace-info\"},[_vm._v(\"about\")]):_vm._e()],1):_vm._e(),(!_vm.activeFileId)?_c('div',{staticClass:\"welcome-text-container\"},[_c('div',{staticClass:\"welcome-text\"},[_c('h1',{staticClass:\"headline\"},[_vm._v(\"Welcome\")]),_c('p',[_vm._v(\"Select a files from your hard drive and start glitching.\")]),(_vm.isElectron)?_c('button',{staticClass:\"btn\",on:{\"click\":_vm.openClicked}},[_vm._v(\"Open Files\")]):_vm._e(),(!_vm.isElectron)?_c('label',{staticClass:\"btn\",attrs:{\"for\":\"file-input\"}},[_vm._v(\"Open Files\")]):_vm._e(),(!_vm.isElectron)?_c('p',[_vm._v(\"This app is also available to download. You can find out more on the \"),_c('a',{attrs:{\"href\":_vm.homepage,\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"project website\")])]):_vm._e()])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.files.length)?_c('nav',{staticClass:\"tab-bar inverse-color\"},[_c('ul',{staticClass:\"tabs\"},_vm._l((_vm.files),function(file){return _c('li',{staticClass:\"tab\",class:_vm.tabCSSClasses( file.id )},[(_vm.hasUnsavedChanges( file.id ))?_c('span',{staticClass:\"unsaved-changes-indicator\",attrs:{\"title\":file.name + ' has unsaved changes'}},[_vm._v(\"*\")]):_vm._e(),(! _vm.isFileActive( file.id ))?_c('button',{staticClass:\"tab-name tab-name-btn\",on:{\"click\":function($event){return _vm.activateFile( file.id )}}},[_vm._v(_vm._s(file.name))]):_vm._e(),(_vm.isFileActive( file.id ))?_c('span',{staticClass:\"tab-name\"},[_vm._v(_vm._s(file.name))]):_vm._e(),_c('button',{staticClass:\"tab-close-btn\",on:{\"click\":function($event){return _vm.closeFile( file.id )}}},[_vm._v(\"\")])])}),0),_c('import-btn',{staticClass:\"tab-open-btn\"},[_vm._v(\"+\")])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn file-import-btn\",on:{\"click\":_vm.importClicked}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<button class=\"btn file-import-btn\" @click=\"importClicked\"><slot /></button>\n</template>\n\n<script>\nexport default {\n\tmethods: {\n\t\timportClicked () {\n\t\t\tthis.$store.dispatch( 'requestToOpenFiles' );\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportBtn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportBtn.vue?vue&type=template&id=5a66e484&\"\nimport script from \"./ImportBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportBtn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<nav class=\"tab-bar inverse-color\" v-if=\"files.length\">\n\t\t<ul class=\"tabs\">\n\t\t\t<li v-for=\"file in files\" class=\"tab\" :class=\"tabCSSClasses( file.id )\">\n\t\t\t\t<span\n\t\t\t\t\tv-if=\"hasUnsavedChanges( file.id )\"\n\t\t\t\t\t:title=\"file.name + ' has unsaved changes'\"\n\t\t\t\t\tclass=\"unsaved-changes-indicator\"\n\t\t\t\t>*</span>\n\t\t\t\t<button class=\"tab-name tab-name-btn\" v-if=\"! isFileActive( file.id )\" @click=\"activateFile( file.id )\">{{ file.name }}</button>\n\t\t\t\t<span class=\"tab-name\" v-if=\"isFileActive( file.id )\">{{ file.name }}</span>\n\t\t\t\t<button class=\"tab-close-btn\" @click=\"closeFile( file.id )\">&times;</button>\n\t\t\t</li>\n\t\t</ul>\n\t\t<import-btn class=\"tab-open-btn\">+</import-btn>\n\t</nav>\n</template>\n\n<style>\n.tab-bar {\n\twidth: 100%;\n\tdisplay: flex;\n\tpadding: 0.4em 0.8em 0 0.8em;\n\tbackground-color: var(--darker-gray) !important;\n\tflex-shrink: 0;\n}\n\n.is-mac .tab-bar {\n\tpadding-top: 23px;\n}\n\n.tab-bar .tab-open-btn {\n\tflex-shrink: 0;\n\tmargin-bottom: 0.5em;\n}\n\n.tabs {\n\twidth: calc(100% - 40px);\n\tmargin-right: 0.8em;\n\tdisplay: flex;\n}\n\n.tab {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: block;\n\t/*padding: 0.4em 0;*/\n\tdisplay: flex;\n\tposition: relative;\n\tborder-top-right-radius: 2px;\n\tborder-top-left-radius: 2px;\n\toverflow: hidden;\n\tborder-top: 1px var(--dark-gray) solid;\n\tborder-left: 1px var(--dark-gray) solid;\n\tborder-right: 1px var(--dark-gray) solid;\n\ttransition: all 0.2s;\n}\n\n.tab:hover {\n\tborder-top-color: var(--dark-gray-light);\n\tborder-left-color: var(--dark-gray-light);\n\tborder-right-color: var(--dark-gray-light);\n}\n\t.tab-name {\n\t\twidth: calc(100% - 65px);\n\t\tdisplay: block;\n\t\tmargin: 0 20px;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\ttext-align: center;\n\t\tline-height: 2.5em;\n\t}\n\n\t.tab-close-btn {\n\t\tflex-shrink: 0;\n\t\tbackground-color: transparent;\n\t\topacity: 0.8;\n\t\tborder: none;\n\t\ttansition: all 0.2s ease;\n\t\tcursor: pointer;\n\t\tfont-weight: 100;\n\t\toutline: none;\n\t\tposition: absolute;\n\t\tright: 10px;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t}\n\n\t.tab-close-btn:hover {\n\t\topacity: 1;\n\t}\n\n\t.tab-name-btn {\n\t\tbackground-color: transparent;\n\t\tborder: none;\n\t\tcursor: pointer;\n\t\tfont-weight: 100;\n\t\toutline: none;\n\t}\n\n\t.unsaved-changes-indicator {\n\t\tposition: absolute;\n\t\tdisplay: block;\n\t\tleft: 10px;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\ttext-indent: -100px;\n\t\twidth: 4px;\n\t\theight: 4px;\n\t\toverflow: hidden;\n\t\tborder: 1px var(--text-color) solid;\n\t\tborder-radius: 4px;\n\t}\n\n\t.tab.is-active .unsaved-changes-indicator {\n\t\tborder-width: 2px;\n\t}\n\n\t.tab + .tab {\n\t\tmargin-left: 0.5em;\n\t}\n\n.tab.is-active {\n\tbackground-color: var(--dark-gray);\n}\n\n.tab-open-btn::before {\n\tdisplay: none;\n}\n</style>\n\n<script>\nimport ImportBtn from '@/components/EditPage/ImportBtn.vue';\nexport default {\n\tcomponents: { ImportBtn },\n\tcomputed: {\n\t\tfiles () {\n\t\t\treturn this.$store.getters.files.map( file => {\n\t\t\t\treturn {\n\t\t\t\t\tid: file.id,\n\t\t\t\t\tname: file.fileName || 'Untitled'\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t},\n\tmethods: {\n\t\tisFileActive ( fileId ) {\n\t\t\treturn this.$store.getters.isFileActive( fileId );\n\t\t},\n\t\thasUnsavedChanges ( fileId ) {\n\t\t\treturn this.$store.getters.hasFileUnsavedChanges( fileId );\n\t\t},\n\t\tactivateFile ( fileId ) {\n\t\t\tthis.$store.dispatch( 'activateFile', fileId );\n\t\t},\n\t\tcloseFile ( fileId ) {\n\t\t\tthis.$store.dispatch( 'closeFile', fileId );\t\n\t\t},\n\t\ttabCSSClasses( fileId ) {\n\t\t\treturn {\n\t\t\t\t'is-active': this.isFileActive( fileId )\n\t\t\t};\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabBar.vue?vue&type=template&id=3e02de6c&\"\nimport script from \"./TabBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TabBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dataURL)?_c('img',{staticClass:\"glitch-image\",attrs:{\"src\":_vm.dataURL},on:{\"load\":_vm.imageLoaded}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\n\nexport const eventBus = new Vue();","<template>\n\t<!-- <div class=\"glitch-image-container\"> -->\n\t\t<img\n\t\t\tv-if=\"dataURL\"\n\t\t\t:src=\"dataURL\"\n\t\t\tclass=\"glitch-image\"\n\t\t\t@load=\"imageLoaded\"\n\t\t/>\n\t<!-- </div> -->\n</template>\n\n<style>\n.glitch-image {\n\tdisplay: block;\n}\n</style>\n\n<script>\nimport glitch from 'glitch-canvas-browser/glitch-canvas-browser.es6';\nimport { eventBus } from '@/util/eventBus.js';\n\nexport default {\n\tname: 'GlitchImage',\n\tprops: [ 'fileId' ],\n\tdata () {\n\t\treturn {\n\t\t\tdataURL: null,\n\t\t\trafId: null\n\t\t}\n\t},\n\tcomputed: {\n\t\tfile () {\n\t\t\treturn this.fileId ? this.$store.getters.fileById( this.fileId ) : null;\n\t\t},\n\t\tparams () {\n\t\t\treturn this.file ? this.$store.getters.params( this.fileId ) : null;\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateImage () {\n\t\t\tif ( this.file ) {\n\t\t\t\tconst img = new Image();\n\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tglitch( this.params )\n\t\t\t\t\t\t.fromImage( img )\n\t\t\t\t\t\t.toDataURL()\n\t\t\t\t\t\t.then( dataURL => {\n\t\t\t\t\t\t\tthis.dataURL = dataURL;\n\n\t\t\t\t\t\t\tthis.$store.dispatch( 'updateGlitch', {\n\t\t\t\t\t\t\t\tfileId: this.fileId,\n\t\t\t\t\t\t\t\tdataURL\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\timg.src = this.file.srcBlobURL;\n\t\t\t}\n\t\t},\n\t\timageLoaded () {\n\t\t\teventBus.$emit( 'glitch' );\n\t\t}\n\t},\n\tmounted () {\n\t\tthis.updateImage();\n\t},\n\twatch: {\n\t\tfileId () {\n\t\t\tthis.updateImage();\n\t\t},\n\t\tparams () {\n\t\t\tcancelAnimationFrame( this.rafId );\n\n\t\t\tthis.rafId = requestAnimationFrame( () => {\n\t\t\t\tthis.updateImage();\n\t\t\t} );\n\t\t},\n\t}\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlitchImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlitchImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GlitchImage.vue?vue&type=template&id=3977b00c&\"\nimport script from \"./GlitchImage.vue?vue&type=script&lang=js&\"\nexport * from \"./GlitchImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GlitchImage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.params)?_c('div',{staticClass:\"controls inverse-color\"},[_vm._l((_vm.params),function(value,key){return _c('div',{staticClass:\"control-item\"},[_c('div',{staticClass:\"text-display\"},[_c('label',{staticClass:\"text-label\",attrs:{\"for\":'control-' + key}},[_vm._v(_vm._s(key))]),_c('input',{staticClass:\"number-display\",attrs:{\"type\":\"number\",\"id\":'control-' + key,\"data-control-id\":key,\"min\":\"1\",\"max\":\"100\"},domProps:{\"value\":value},on:{\"input\":_vm.controlChanged}})]),_c('input',{staticClass:\"slider\",attrs:{\"type\":\"range\",\"data-control-id\":key,\"min\":\"1\",\"max\":\"100\"},domProps:{\"value\":value},on:{\"input\":_vm.controlChanged}})])}),_c('div',{staticClass:\"control-item\"},[_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.randomClicked()}}},[_vm._v(\"Random\")])])],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"controls inverse-color\" v-if=\"params\">\n\t\t<div v-for=\"(value, key) in params\" class=\"control-item\">\n\t\t\t<div class=\"text-display\">\n\t\t\t\t<label class=\"text-label\" :for=\"'control-' + key\">{{ key }}</label>\n\t\t\t\t<input\n\t\t\t\t\tclass=\"number-display\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t:value=\"value\"\n\t\t\t\t\t:id=\"'control-' + key\"\n\t\t\t\t\t:data-control-id=\"key\"\n\t\t\t\t\tmin=\"1\"\n\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t@input=\"controlChanged\"\n\t\t\t\t>\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\tclass=\"slider\"\n\t\t\t\ttype=\"range\"\n\t\t\t\t:value=\"value\"\n\t\t\t\t:data-control-id=\"key\"\n\t\t\t\tmin=\"1\"\n\t\t\t\tmax=\"100\"\n\t\t\t\t@input=\"controlChanged\"\n\t\t\t>\n\t\t</div>\n\t\t<div class=\"control-item\">\n\t\t\t<button class=\"btn\" @click=\"randomClicked()\">Random</button>\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n.controls {\n\tpadding: 0.8em;\n\tdisplay: flex;\n\tflex-shrink: 0;\n}\n\n.control-item {\n\twidth: 25%;\n\theight: 50%;\n\tmargin-bottom: 0.4em;\n\tpadding: 0 0.8em;\n}\n\n.text-display {\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin-bottom: 2px;\n}\n\n.text-label {\n\tfont-weight: 100;\n}\n\n.number-display {\n\ttext-align: right;\n}\n\ninput[type=range] {\n\t-webkit-appearance: none;\n\twidth: 100%;\n}\n\ninput[type=range]:focus {\n\toutline: none;\n}\n\ninput[type='range'] {\n\tbackground-color: transparent;\n}\n\ninput[type=range]::-webkit-slider-runnable-track {\n\theight: 100%;\n\tborder: none;\n\tbackground-color: transparent;\n\tposition: relative;\n\tbackground: linear-gradient(\n\t\tto bottom,\n\t\trgba(255,255,255,0) 0%,\n\t\trgba(255,255,255,0) 41.9%,\n\t\trgba(255,255,255,0.2) 42%,\n\t\trgba(255,255,255,0.2) 58%,\n\t\trgba(255,255,255,0) 58.1%,\n\t\trgba(255,255,255,0) 100%\n\t);\n}\n\n/*slider thumb clickable area*/\n\ninput[type=range]::-webkit-slider-thumb {\n\theight: 20px;\n\twidth: 20px;\n\tborder-radius: 45px;\n\ttransition: background-color 0.2s;\n\tposition: relative;\n\tcursor: pointer;\n\tappearance: none;\n\tborder: none;\n\tbackground: radial-gradient(\n\t\tellipse at center,\n\t\trgba(255,255,255,1) 0%,\n\t\trgba(255,255,255,1) 30%,\n\t\trgba(255,255,255,0) 33%,\n\t\trgba(255,255,255,0) 100%\n\t);\n\t-webkit-appearance: none;\n\tborder: 1px transparent solid;\n}\n\ninput[type=range]:hover::-webkit-slider-thumb,\ninput[type=range]:active::-webkit-slider-thumb,\ninput[type=range]:focus::-webkit-slider-thumb {\n\tbackground: radial-gradient(\n\t\tellipse at center,\n\t\trgba(255,255,255,1) 0%,\n\t\trgba(255,255,255,1) 30%,\n\t\trgba(255,255,255,0.2) 33%,\n\t\trgba(255,255,255,0.2) 100%\n\t);\n\n\tborder: 1px #fff solid;\n}\n\n.has-touch input[type=range]::-webkit-slider-thumb {\n\theight: 40px;\n\twidth: 40px;\n\ttop:  2px;\n}\n\n</style>\n\n<script>\nexport default {\n\tprops: [ 'fileId' ],\n\tcomputed: {\n\t\tfile () {\n\t\t\treturn this.fileId ? this.$store.getters.fileById( this.fileId ) : null;\n\t\t},\n\t\tparams () {\n\t\t\treturn this.file ? this.$store.getters.params( this.fileId ) : null;\n\t\t}\n\t},\n\tmethods: {\n\t\tcontrolChanged( event ) {\n\t\t\tconst key = event.target.getAttribute( 'data-control-id' );\n\t\t\tconst value = parseInt( event.target.value, 10 );\n\n\t\t\tthis.$store.dispatch( 'updateControl', {\n\t\t\t\tfileId: this.fileId,\n\t\t\t\tkey,\n\t\t\t\tvalue\n\t\t\t} );\n\t\t},\n\n\t\trandomClicked () {\n\t\t\tthis.$store.dispatch( 'randomControlValues', {\n\t\t\t\tfileId: this.fileId\n\t\t\t} );\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Controls.vue?vue&type=template&id=1341dc0c&\"\nimport script from \"./Controls.vue?vue&type=script&lang=js&\"\nexport * from \"./Controls.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Controls.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"workspace\"},[_c('div',{staticClass:\"workspace-content\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"workspace-info\"},[_vm._t(\"workspace-info\")],2),_c('div',{staticClass:\"workspace-controls\"},[_vm._t(\"workspace-controls\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function getCSSMatrix ( el ) {\n\tconst style = getComputedStyle( el );\n\n\treturn style.getPropertyValue( '-webkit-transform' ) ||\n\t\t   style.getPropertyValue( '-moz-transform' ) ||\n\t\t   style.getPropertyValue( '-ms-transform' ) ||\n\t\t   style.getPropertyValue( '-o-transform' ) ||\n\t\t   style.getPropertyValue( 'transform' );\n}\n\nexport function cssMatrixToTransformObj ( matrix ) {\n\t// this happens when there was no rotation yet in CSS\n\tif ( matrix === 'none' ) {\n\t\tmatrix = 'matrix(0,0,0,0,0)';\n\t}\n\t\n\tconst obj = { };\n\tconst values = matrix.match( /([-+]?[\\d\\.]+)/g );\n\n\tobj.rotate = ( Math.round(\n\t\tMath.atan2(\n\t\t\tparseFloat( values[1] ), \n\t\t\tparseFloat( values[0] ) ) * ( 180 / Math.PI )\n\t\t) || 0\n\t).toString() + 'deg';\n\t\n\tobj.translateStr = values[5] ? values[4] + 'px, ' + values[5] + 'px' : ( values[4] ? values[4] + 'px' : '' );\n\t\n\tobj.translateX = parseFloat( values[4] );\n\tobj.translateY = values[5] ? parseFloat( values[5] ) : 0;\t\n\t\n\treturn obj;\n}\n","export function isDescendant ( parentEl, childEl ) {\n\tlet node = childEl.parentNode;\n\n\twhile ( node != null ) {\n\t\tif ( node == parentEl ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tnode = node.parentNode;\n\t}\n\n\treturn false;\n}","import { getCSSMatrix, cssMatrixToTransformObj } from './css.js';\nimport { isDescendant } from './dom.js';\nimport elementResizeEvent from 'element-resize-event';\n\nexport class PanZoom {\n\tconstructor ( containerEl, targetEl, opts = { } ) {\n\t\tthis.containerEl = containerEl;\n\t\tthis.targetEl = targetEl;\n\n\t\tthis.canZoomWithPonter = true\n\t\tthis.shouldCaptureFn = opts.shouldCaptureFn || function ( el ) { return true; };\n\t\tthis.limitToContainer = typeof opts.limitToContainer === 'boolean' ? opts.limitToContainer : true;\n\t\tthis.limitPadding = opts.limitPadding || 50;\n\t\tthis.matrix = getCSSMatrix( this.targetEl );\n\t\tthis.transform = cssMatrixToTransformObj( this.matrix );\n\n\t\tthis.x = this.transform.translateX || 0;\n\t\tthis.y = this.transform.translateY || 0;\n\t\tthis.scale = 1;\n\n\t\tthis.active = 0;\n\t\tthis.lastPoints = [ ];\n\t\tthis.centerScale = 1;\n\t\t\n\t\tthis.containerBounds = this.containerEl.getBoundingClientRect();\n\t\tthis.targetBounds = this.targetEl.getBoundingClientRect();\n\n\t\tthis.forceCenter = false;\n\n\t\tthis.updateAnimationFrameId = NaN;\n\t\tthis.scaleAnimationFrameId = NaN;\n\t\tthis.centerAnimationFrameId = NaN;\n\t\tthis.resizeTimeoutId = NaN;\n\n\t\tthis.targetElSize = { width: 100, height: 100 };\n\t\tthis.containerElSize = { width: 100, height: 100 };\n\t\t\n\t\tthis.isAnimating = false;\n\n\t\t// this.centerQueued = false;\n\t\t// this.forceCenter = false;\n\n\t\t// this.pointerPressed = this.pointerPressed.bind( this );\n\t\tthis.pointerMovedHandler = event => this.pointerMoved( event );\n\t\tthis.pointerReleasedHandler = event => this.pointerReleased( event );\n\t\t// this.pointerReleased = this.pointerReleased.bind( this );\n\t\t// this.wheelTurned = this.wheelTurned.bind( this );\n\n\t\tthis.containerEl.addEventListener( 'mousedown', event => this.pointerPressed( event ) );\n\t\tthis.containerEl.addEventListener( 'touchstart', event => this.pointerPressed( event ) );\n\t\tthis.containerEl.addEventListener( 'wheel', event => this.wheelTurned( event ) );\n\t\tthis.containerEl.addEventListener( 'dblclick', event => this.animateToCenter( event ) );\n\n\t\twindow.addEventListener( 'resize', event => this.resized( event ) );\n\n\t\tthis.targetEl.style.WebkitTransformOrigin = targetEl.style.transformOrigin = '0 0';\n\n\t\telementResizeEvent( this.targetEl, event => this.updateDimensions( event ) );\n\t\telementResizeEvent( this.containerEl, event => this.updateDimensions( event ) );\n\n\t\tthis.updateDimensions();\n\t}\n\n\treset () {\n\t\tthis.updateValues( this.transform.translateX || 0, this.transform.translateY || 0, 1 );\n\t}\n\n\tupdateDimensions () {\n\t\tthis.containerElSize = {\n\t\t\twidth: this.containerEl.clientWidth,\n\t\t\theight: this.containerEl.clientHeight\n\t\t};\n\t\t\n\t\tthis.targetElSize = {\n\t\t\twidth: this.targetEl.clientWidth,\n\t\t\theight: this.targetEl.clientHeight\n\t\t};\n\n\t\tthis.containerBounds = this.containerEl.getBoundingClientRect();\n\t\tthis.targetBounds = this.targetEl.getBoundingClientRect();\n\n\t\tif ( this.forceCenter ) {\n\t\t\tthis.setToCenter();\n\t\t}\n\n\t\tthis.updateValues( this.x, this.y, this.scale );\n\t}\n\n\tupdateValues ( newX, newY, newScale ) {\n\t\tcancelAnimationFrame( this.updateAnimationFrameId );\n\n\t\tif ( this.limitToContainer && this.targetEl !== this.containerEl && this.containerBounds ) {\n\t\t\t// const targetBounds = this.targetEl.getBoundingClientRect();\n\t\t\t\n\t\t\t// console.log( targetBounds.width, targetBounds.height );\n\t\t\t\n\t\t\tif ( newX !== this.x || newY !== this.y || newScale !== this.scale ) {\n\t\t\t\tconst scaleDelta = 1 / ( this.scale / newScale );\n\n\t\t\t\tconst inverseScale = 1 / newScale;\n\t\t\t\tconst scaledPadding = this.limitPadding;\n\n\t\t\t\tconst scaledTargetSize = {\n\t\t\t\t\twidth: this.targetBounds.width,\n\t\t\t\t\theight: this.targetBounds.height\n\t\t\t\t};\n\n\t\t\t\tconst scaledContainerSize = {\n\t\t\t\t\twidth: this.containerBounds.width,\n\t\t\t\t\theight: this.containerBounds.height\n\t\t\t\t};\n\n\t\t\t\tif ( newX > scaledContainerSize.width - scaledPadding ) {\n\t\t\t\t\tnewX = scaledContainerSize.width - scaledPadding;\n\t\t\t\t}\n\n\t\t\t\tif ( newX < 0 - scaledTargetSize.width + scaledPadding ) {\n\t\t\t\t\tnewX = 0 - scaledTargetSize.width + scaledPadding;\n\t\t\t\t}\n\n\t\t\t\tif ( newY > scaledContainerSize.height - scaledPadding ) {\n\t\t\t\t\tnewY = scaledContainerSize.height - scaledPadding;\n\t\t\t\t}\n\n\t\t\t\tif ( newY < 0 - scaledTargetSize.height + scaledPadding ) {\n\t\t\t\t\tnewY = 0 - scaledTargetSize.height + scaledPadding;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnewScale = Math.min( 5, Math.max( 0.01, newScale ) );\n\t\t\n\t\tif ( this.scale === newScale && newScale === 5 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.x = newX;\n\t\tthis.y = newY;\n\t\tthis.scale = newScale;\n\n\t\tthis.updateAnimationFrameId = requestAnimationFrame( () => this.update() );\n\t}\n\n\tupdate () {\n\t\tthis.targetEl.style.WebkitTransform = this.targetEl.style.transform = 'translate3d(' + this.x + 'px, ' + this.y + 'px, 0) scale(' + this.scale + ')';\n\t}\n\n\twheelTurned ( event ) {\n\t\tif ( ! this.shouldCaptureFn( event.target ) ) { return; }\n\t\tif ( ! this.canZoomWithPonter ) { return; }\n\n\t\tthis.forceCenter = false;\n\t\t\n\t\tevent.preventDefault();\n\n\t\t// const targetBounds = this.targetEl.getBoundingClientRect();\n\n\t\tlet delta = event.deltaY;\n\n\t\tif ( event.deltaMode === 1 ) { // 1 is \"lines\", 0 is \"pixels\"\n\t\t\t// Firefox uses \"lines\" when mouse is connected\n\t\t\tdelta *= 15;\n\t\t}\n\n\t\t// stop mouse wheel producing huge values\n\t\tdelta = Math.max( Math.min( delta, 60 ), -60 );\n\n\t\tconst scaleDiff = ( delta / 300 ) + 1;\n\n\t\t// avoid to-small values\n\t\tif ( this.scale * scaleDiff < 0.05 ) { return; }\n\n\t\tthis.updateValues(\n\t\t\tthis.x - ( event.pageX - this.targetBounds.left ) * ( scaleDiff - 1 ),\n\t\t\tthis.y - ( event.pageY - this.targetBounds.top ) * ( scaleDiff - 1 ),\n\t\t\tthis.scale * scaleDiff\n\t\t);\n\t}\n\n\tfirstPointerPressed ( event ) {\n\t\tthis.lastPoints = getPoints( event );\n\n\t\tdocument.addEventListener( 'mousemove', this.pointerMovedHandler );\n\t\tdocument.addEventListener( 'mouseup', this.pointerReleasedHandler );\n\t\t\n\t\tdocument.addEventListener( 'touchmove', this.pointerMovedHandler );\n\t\tdocument.addEventListener( 'touchend', this.pointerReleasedHandler );\n\t}\n\n\tpointerPressed ( event ) {\n\t\tif ( event.type == 'mousedown' && event.which != 1 ) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif ( ! this.shouldCaptureFn( event.target ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t\n\t\tif ( isDescendant( this.containerEl, event.target ) ) {\n\t\t\t\n\t\t\tthis.forceCenter = false;\n\t\t\tevent.preventDefault();\n\t\t\t\n\t\t\tthis.lastPoints = getPoints( event );\n\t\t\tthis.active++;\n\t\n\t\t\tif ( this.active === 1 ) {\n\t\t\t\tthis.firstPointerPressed( event );\n\t\t\t}\n\t\t}\n\t}\n\n\tpointerMoved ( event ) {\n\t\tif ( event && event.target /*&& isDescendant( this.containerEl, event.target )*/ ) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.forceCenter = false;\n\n\t\t\tconst points = getPoints( event );\n\t\t\tconst averagePoint = points.reduce( getMidpoint );\n\t\t\tconst averageLastPoint = this.lastPoints.reduce( getMidpoint );\n\n\t\t\tconst tmpX = this.x + averagePoint.x - averageLastPoint.x;\n\t\t\tconst tmpY = this.y + averagePoint.y - averageLastPoint.y;\n\t\t\t\n\t\t\tif ( points[1] ) {\n\t\t\t\tif ( ! this.canZoomWithPonter ) { return; }\n\t\t\t\tconst scaleDiff = touchDistance( points[0], points[1] ) / touchDistance( this.lastPoints[0], this.lastPoints[1] );\n\t\t\t\t\n\t\t\t\tthis.updateValues(\n\t\t\t\t\ttmpX - ( averagePoint.x - targetBounds.left ) * ( scaleDiff - 1 ),\n\t\t\t\t\ttmpY - ( averagePoint.y - targetBounds.top ) * ( scaleDiff - 1 ),\n\t\t\t\t\tthis.scale * scaleDiff\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.updateValues( tmpX, tmpY, this.scale );\n\t\t\t}\n\n\t\t\tthis.lastPoints = points;\n\t\t}\n\t}\n\n\tpointerReleased ( event ) {\n\t\tevent.preventDefault();\n\t\tthis.active--;\n\n\t\tthis.lastPoints.pop();\n\n\t\tif ( this.active ) {\n\t\t\tthis.lastPoints = getPoints( event );\n\t\t\treturn;\n\t\t} else {\n\t\t\tdocument.removeEventListener( 'mousemove', this.pointerMovedHandler );\n\t\t\tdocument.removeEventListener( 'mouseup', this.pointerReleasedHandler );\n\n\t\t\tdocument.removeEventListener( 'touchmove', this.pointerMovedHandler );\n\t\t\tdocument.removeEventListener( 'touchend', this.pointerReleasedHandler );\n\t\t}\n\t}\n\n\tresized () {\n\t\tcancelAnimationFrame( this.resizeTimeoutId );\n\n\t\tthis.resizeTimeoutId = requestAnimationFrame( () => this.setToCenter() );\n\t}\n\n\tsetToCenter () {\n\t\tthis.forceCenter = true;\n\t\tthis.updateValues( this.centerValues.x, this.centerValues.y, this.centerValues.scale );\n\t}\n\n\tanimateToCenter () {\n\t\tlet deltaX = 0;\n\t\tlet deltaY = 0;\n\t\tlet deltaScale = 0;\n\t\t\n\t\tconst easing = 0.1;\n\n\t\tthis.centerScale = this.centerValues.scale;\n\n\t\tcancelAnimationFrame( this.scaleAnimationFrameId );\n\t\tcancelAnimationFrame( this.centerAnimationFrameId );\n\t\t\t\n\t\tfunction centerAnimationStep () {\n\t\t\tdeltaX = this.centerValues.x - this.x;\n\t\t\tdeltaY = this.centerValues.y - this.y;\n\t\t\tdeltaScale = this.centerValues.scale - this.scale;\n\n\t\t\tif (\n\t\t\t\tMath.abs( deltaX ) > 1 ||\n\t\t\t\tMath.abs( deltaY ) > 1 ||\n\t\t\t\tMath.abs( deltaScale ) > 0.01\n\t\t\t) {\n\t\t\t\tthis.updateValues( this.x + deltaX * easing, this.y + deltaY * easing, this.scale + deltaScale * easing );\n\n\t\t\t\tthis.centerAnimationFrameId = requestAnimationFrame( () => centerAnimationStep.bind(this)() );\n\t\t\t} else {\n\t\t\t\tthis.updateValues( this.centerValues.x, this.centerValues.y, this.centerValues.scale );\n\t\t\t}\n\t\t}\n\n\t\tthis.centerAnimationFrameId = requestAnimationFrame( () => centerAnimationStep.bind(this)() );\n\t}\n\t\n\tsetScale ( newScale ) {\n\t\tconst easing = 0.2;\n\t\t\n\t\tconst targetX = ( this.containerBounds.width - this.targetBounds.width * newScale ) / 2;\n\t\tconst targetY = ( this.containerBounds.height - this.targetBounds.height * newScale ) / 2;\n\t\t\n\t\tlet deltaX = 0;\n\t\tlet deltaY = 0;\n\t\tlet deltaScale = 0;\n\n\t\tcancelAnimationFrame( this.scaleAnimationFrameId );\n\t\tcancelAnimationFrame( this.centerAnimationFrameId );\n\t\t\t\n\t\tfunction scaleAnimationStep () {\n\t\t\tdeltaX = targetX - this.x;\n\t\t\tdeltaY = targetY - this.y;\n\t\t\tdeltaScale = newScale - this.scale;\n\n\t\t\tif (\n\t\t\t\tMath.abs( deltaX ) > 1 ||\n\t\t\t\tMath.abs( deltaY ) > 1 ||\n\t\t\t\tMath.abs( deltaScale ) > 0.01\n\t\t\t) {\n\t\t\t\tupdateValues( this.x + deltaX * easing, this.y + deltaY * easing, this.scale + deltaScale * easing );\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\tthis.scaleAnimationFrameId = requestAnimationFrame( scaleAnimationStep );\n\t\t\t} else {\n\t\t\t\tupdateValues( targetX, targetY, newScale );\n\t\t\t}\n\t\t}\n\n\t\tscaleAnimationStep();\n\n\t\treturn self;\n\t}\n\n\tget centerValues () {\n\t\tlet targetScale = 1;\n\n\t\t// const targetBounds = this.targetEl.getBoundingClientRect();\n\t\t// console.log( 'CENTER', this.targetBounds.width, this.targetBounds.height );\n\t\t// const targetBounds = this.targetEl.getBoundingClientRect();\n\n\t\tif ( this.targetElSize.width > this.containerElSize.width || this.targetElSize.height > this.containerElSize.height ) {\n\t\t\ttargetScale = Math.min(\n\t\t\t\tthis.containerElSize.width / this.targetElSize.width,\n\t\t\t\t( this.containerElSize.height - 80 ) / this.targetElSize.height\n\t\t\t);\n\t\t}\n\n\t\treturn {\n\t\t\tx: ( this.containerElSize.width - this.targetElSize.width * targetScale ) / 2,\n\t\t\ty: ( this.containerElSize.height - this.targetElSize.height * targetScale ) / 2,\n\t\t\tscale: targetScale\n\t\t};\n\t}\n}\n\nfunction getXY ( obj ) {\n\treturn {\n\t\tx: obj.pageX,\n\t\ty: obj.pageY\n\t};\n}\n\nfunction touchDistance ( touch1, touch2 ) {\n\tconst x = Math.abs( touch2.x - touch1.x );\n\tconst y = Math.abs( touch2.y - touch1.y );\n\treturn Math.sqrt( x * x + y * y );\n}\n\nfunction getMidpoint ( point1, point2 ) {\n\treturn {\n\t\tx: ( point1.x + point2.x ) / 2,\n\t\ty: ( point1.y + point2.y ) / 2\n\t};\n}\n\nfunction getPoints ( event ) {\n\tif ( event.touches ) {\n\t\treturn Array.prototype.map.call( event.touches, getXY );\n\t} else {\n\t\treturn [ getXY( event ) ];\n\t}\n}\n","<template>\n\t<div class=\"workspace\">\n\t\t<div class=\"workspace-content\">\n\t\t\t<slot />\n\t\t</div>\n\t\t<div class=\"workspace-info\">\n\t\t\t<slot name=\"workspace-info\" />\n\t\t</div>\n\t\t<div class=\"workspace-controls\">\n\t\t\t<slot name=\"workspace-controls\" />\n\t\t</div>\n\t</div>\n</template>\n\n<style>\n.workspace {\n\toverflow: hidden;\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.workspace-controls {\n\tposition: absolute;\n\tbottom: 20px;\n\tright: 20px;\n\tz-index: 2;\n}\n\n.workspace-info {\n\tposition: absolute;\n\tbottom: 20px;\n\tleft: 20px;\n\tz-index: 2;\n}\n\n.workspace-controls .btn {\n\tbackground-color: var(--white);\n\theight: 32px;\n}\n\n.workspace-controls .btn + .btn {\n\tmargin-left: 5px;\n}\n\n.workspace-content {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n</style>\n\n<script>\nimport { PanZoom } from '@/util/PanZoom.js';\nimport { eventBus } from '@/util/eventBus.js';\n\nexport default {\n\tdata () {\n\t\treturn {\n\t\t\tpanZoom: null,\n\t\t\tlastZoomId: null\n\t\t}\n\t},\n\tprops: [ 'fileId' ],\n\tmethods: {\n\t\tupdateWorkspace () {\n\t\t\tif ( this.fileId && this.panZoom && this.lastZoomId !== this.fileId ) {\n\t\t\t\tthis.panZoom.setToCenter();\n\t\t\t}\n\t\t}\n\t},\n\tmounted () {\n\t\teventBus.$on( 'glitch', this.updateWorkspace.bind( this ) );\n\n\t\tthis.panZoom = new PanZoom( this.$el, this.$el.querySelector( '.workspace-content' ) );\n\t},\n\twatch: {\n\t\tfileId () {\n\t\t\tthis.updateWorkspace();\n\t\t},\n\n\t\t'$store.getters.activeFile.srcBlobURL' ( blobURL ) {\n\t\t\tthis.updateWorkspace();\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Workspace.vue?vue&type=template&id=61897c6c&\"\nimport script from \"./Workspace.vue?vue&type=script&lang=js&\"\nexport * from \"./Workspace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Workspace.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn file-import-btn\",on:{\"click\":_vm.exportClicked}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<button\n\t\tclass=\"btn file-import-btn\"\n\t\t@click=\"exportClicked\"\n\t><slot /></button>\n</template>\n\n<script>\nexport default {\n\tprops: [ 'fileId' ],\n\tmethods: {\n\t\texportClicked () {\n\t\t\tthis.$store.dispatch( 'requestToExportImage', this.fileId );\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportBtn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportBtn.vue?vue&type=template&id=33571b5d&\"\nimport script from \"./ExportBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportBtn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn file-import-btn\",on:{\"click\":_vm.saveClicked}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<button class=\"btn file-import-btn\" @click=\"saveClicked\"><slot /></button>\n</template>\n\n<script>\nexport default {\n\tprops: [ 'fileId' ],\n\tmethods: {\n\t\tsaveClicked () {\n\t\t\tthis.$store.dispatch( 'saveFile', this.fileId );\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveBtn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SaveBtn.vue?vue&type=template&id=57129e9e&\"\nimport script from \"./SaveBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./SaveBtn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"page edit-page\">\n\t\t<tab-bar />\n\t\t<controls :fileId=\"activeFileId\" v-if=\"activeFileId\" />\n\t\t<workspace v-if=\"activeFileId\" :fileId=\"activeFileId\">\n\t\t\t<glitch-image :fileId=\"activeFileId\" />\n\t\t\t<export-btn v-if=\"activeFileId\" :fileId=\"activeFileId\" slot=\"workspace-controls\">export</export-btn>\n\t\t\t<save-btn v-if=\"activeFileId\" :fileId=\"activeFileId\" slot=\"workspace-controls\">save</save-btn>\n\t\t\t<button v-if=\"! isElectron\" class=\"btn about-btn\" slot=\"workspace-info\" @click=\"infoClicked\" :class=\"infoBtnCSSClasses\">about</button>\n\t\t</workspace>\n\t\t<div class=\"welcome-text-container\" v-if=\"!activeFileId\">\n\t\t\t<div class=\"welcome-text\">\n\t\t\t\t<h1 class=\"headline\">Welcome</h1>\n\t\t\t\t<p>Select a files from your hard drive and start glitching.</p>\n\t\t\t\t<button v-if=\"isElectron\" class=\"btn\" @click=\"openClicked\">Open Files</button>\n\t\t\t\t<label v-if=\"!isElectron\" for=\"file-input\" class=\"btn\">Open Files</label>\n\t\t\t\t<p v-if=\"!isElectron\">This app is also available to download. You can find out more on the <a :href=\"homepage\" target=\"_blank\" rel=\"noopener\">project website</a></p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { homepage } from '../../package.json';\nimport TabBar from '@/components/EditPage/TabBar.vue';\nimport GlitchImage from '@/components/EditPage/GlitchImage.vue';\nimport Controls from '@/components/EditPage/Controls.vue';\nimport Workspace from '@/components/EditPage/Workspace.vue';\nimport ExportBtn from '@/components/EditPage/ExportBtn.vue';\nimport SaveBtn from '@/components/EditPage/SaveBtn.vue';\n\nexport default {\n\tname: 'EditPage',\n\tcomponents: { TabBar, GlitchImage, Controls, Workspace, ExportBtn, SaveBtn },\n\tcomputed: {\n\t\tactiveFileId () {\n\t\t\treturn this.$store.getters.activeFileId;\n\t\t},\n\t\tinfoBtnCSSClasses () {\n\t\t\treturn  {\n\t\t\t\t'is-active': this.$store.getters.isShowingAbout\n\t\t\t}\n\t\t},\n\t\tisElectron () {\n\t\t\treturn process.env.IS_ELECTRON;\n\t\t},\n\t\thomepage () {\n\t\t\treturn homepage;\n\t\t}   \n\t},\n\tmethods: {\n\t\topenClicked () {\n\t\t\tthis.$store.dispatch( 'requestToOpenFiles' );\n\t\t},\n\t\tinfoClicked () {\n\t\t\tthis.$store.dispatch( 'toggleAbout' );\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.edit-page {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.welcome-text-container {\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.welcome-text {\n\tmax-width: 220px;\n}\n\n.welcome-text .btn {\n\tmargin-top: 3em;\n}\n\n.welcome-text a {\n\tcolor:  #06f;\n} \n\n.welcome-text .btn + p {\n\tmargin-top: 3em;\n\tfont-size: 80%;\n}\n\n.edit-page .about-btn {\n\tbackground-color: var(--white);\n}\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPage.vue?vue&type=template&id=344b134c&\"\nimport script from \"./EditPage.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about-page-wrapper\"},[_c('transition',{attrs:{\"name\":\"about\"}},[(_vm.isShowing)?_c('div',{staticClass:\"about-page-background\"},[_c('div',{staticClass:\"about-page\"},[_c('div',{staticClass:\"about-icon-container\"},[_c('img',{staticClass:\"about-icon\",attrs:{\"src\":_vm.appIcon}})]),_c('div',{staticClass:\"about-text\"},[_c('h1',{staticClass:\"about-app-name center-text\"},[_vm._v(_vm._s(_vm.appName))]),_c('p',{staticClass:\"center-text\"},[_vm._v(\"Version \"+_vm._s(_vm.appVersion))]),(_vm.isElectron)?_c('p',{staticClass:\"about-small center-text about-margin\"},[_vm._v(\"Copyright  2018 - 2020\"),_c('br'),_c('a',{attrs:{\"href\":_vm.author.url},on:{\"click\":_vm.linkClicked}},[_vm._v(_vm._s(_vm.author.name))])]):_vm._e(),(!_vm.isElectron)?_c('p',{staticClass:\"about-small center-text about-margin\"},[_vm._v(\"Copyright  2018 - 2020\"),_c('br'),_c('a',{attrs:{\"href\":_vm.author.url,\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(_vm._s(_vm.author.name))])]):_vm._e(),(_vm.isElectron)?_c('p',{staticClass:\"about-small center-text about-margin\"},[_c('a',{attrs:{\"href\":_vm.homepage},on:{\"click\":_vm.linkClicked}},[_vm._v(\"Website\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":_vm.bugs},on:{\"click\":_vm.linkClicked}},[_vm._v(\"Report a bug\")])]):_vm._e(),(!_vm.isElectron)?_c('p',{staticClass:\"about-small center-text about-margin\"},[_c('a',{attrs:{\"href\":_vm.homepage,\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Website\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":_vm.bugs,\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Report a bug\")])]):_vm._e(),_c('p',{staticClass:\"about-small center-text about-margin\"},[_vm._v(\"Thank you for using this software.\"),_c('br'),_vm._v(\" Have a great day!\")])]),_c('button',{staticClass:\"about-page-close\",on:{\"click\":_vm.closeClicked}},[_vm._v(\"\")])])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"about-page-wrapper\">\n\t\t<transition name=\"about\">\n\t\t\t<div class=\"about-page-background\" v-if=\"isShowing\">\n\t\t\t\t<div class=\"about-page\">\n\t\t\t\t\t<div class=\"about-icon-container\">\n\t\t\t\t\t\t<img :src=\"appIcon\" class=\"about-icon\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"about-text\">\n\t\t\t\t\t\t<h1 class=\"about-app-name center-text\">{{ appName }}</h1>\n\t\t\t\t\t\t<p class=\"center-text\">Version {{ appVersion }}</p>\n\t\t\t\t\t\t<p class=\"about-small center-text about-margin\" v-if=\"isElectron\">Copyright &copy; 2018 - 2020<br /><a  @click=\"linkClicked\" :href=\"author.url\">{{ author.name }}</a></p>\n\t\t\t\t\t\t<p class=\"about-small center-text about-margin\" v-if=\"!isElectron\">Copyright &copy; 2018 - 2020<br /><a :href=\"author.url\" target=\"_blank\" rel=\"noopener\">{{ author.name }}</a></p>\n\t\t\t\t\t\t<p class=\"about-small center-text about-margin\" v-if=\"isElectron\"><a :href=\"homepage\" @click=\"linkClicked\">Website</a> <a :href=\"bugs\" @click=\"linkClicked\">Report a bug</a></p>\n\t\t\t\t\t\t<p class=\"about-small center-text about-margin\" v-if=\"!isElectron\"><a :href=\"homepage\" target=\"_blank\" rel=\"noopener\">Website</a> <a :href=\"bugs\"  target=\"_blank\" rel=\"noopener\">Report a bug</a></p>\n\t\t\t\t\t\t<p class=\"about-small center-text about-margin\">Thank you for using this software.<br /> Have a great day!</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class=\"about-page-close\" @click=\"closeClicked\">&times;</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<style>\n.about-page-wrapper {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\tz-index: 3;\n}\n\n.about-page-background {\n\tbackground-color: rgba(0, 0, 0, 0.3);\n\twidth: 100%;\n\theight: 100vh;\n\tposition: relative;\n}\n\n.about-page {\n\twidth: 400px;\n\tmax-width: 90%;\n\tpadding: 40px;\n\tborder-radius: 3px;\n\tbackground-color: #fff;\n\tposition: absolute;\n\tleft: 50%;\n\ttop: 50%;\n\ttransform: translateX(-50%) translateY(-50%);\n}\n\n.about-icon-container {\n\tdisplay: flex;\n\tjustify-content: center;\n\tpadding: 40px;\n}\n\n.about-icon {\n\twidth: 128px;\n\theight: 128px;\n}\n\n.about-app-name {\n\tfont-size: 130%;\n\tfont-weight: bold;\n}\n\n.about-text {\n\tline-height: 1.5;\n}\n\n.about-small {\n\tfont-size: 80%;\n\topacity: 0.7;\n}\n\n.about-margin {\n\tmargin-top: 20px;\n}\n\n.about-page-close {\n\tposition: absolute;\n\tborder: none;\n\tbackground: transparent;\n\tfont-weight: 100;\n\ttop: 2px;\n\tright: 10px;\n\tfont-size: 30px;\n\tcursor: pointer;\n\topacity: 0.7;\n}\n\n.about-page-close:hover {\n\topacity: 1;\n}\n\n</style>\n\n<script>\nimport { productName, version, homepage, author, bugs } from '../../package.json';\n\nexport default {\n\tcomputed: {\n\t\tisShowing () {\n\t\t\treturn this.$store.getters.isShowingAbout;\n\t\t},\n\t\tappIcon () {\n\t\t\treturn 'img/icons/android-chrome-512x512.png';\n\t\t},\n\t\tappName () {\n\t\t\treturn productName;\n\t\t},\n\t\tappVersion () {\n\t\t\treturn version;\n\t\t},\n\t\tauthor () {\n\t\t\treturn author;\n\t\t},\n\t\tbugs () {\n\t\t\treturn bugs;\n\t\t},\n\t\thomepage () {\n\t\t\treturn homepage;\n\t\t},\n\t\tisElectron () {\n\t\t\treturn !! process.env.IS_ELECTRON;\n\t\t}\n\t},\n\tmethods: {\n\t\tcloseClicked () {\n\t\t\tthis.$store.dispatch( 'hideAbout' );\n\t\t},\n\t\tlinkClicked ( event ) {\n\t\t\tevent.preventDefault();\n\t\t\t\n\t\t\tconst url = event.target.href;\n\n\t\t\tif ( this.isElectron ) {\n\t\t\t\trequire('electron').shell.openExternal( url )\n\t\t\t}\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AboutPage.vue?vue&type=template&id=338f458c&\"\nimport script from \"./AboutPage.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AboutPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { loadFile } from '@/util/file.js';\nimport { toArrayBuffer  } from '@/util/buffer.js';\nimport { lookup as getMimeTypeFromFilePath } from 'mime-types';\nimport { arrayBufferToBlob, createObjectURL, dataURLToBlob } from 'blob-util';\n\nexport function loadLocalImage ( imagePath ) {\n\treturn blobFromImageFile( imagePath )\n\t\t.then( loadImage );\n}\n\nexport function loadLocalImageToImageData ( imagePath ) {\n\treturn blobURLFromImageFile( imagePath )\n\t\t.then( loadImage )\n\t\t.then( imageToImageData );\n}\n\nexport function loadImage ( imagePath ) {\n\treturn new Promise( ( resolve, reject ) => {\n\t\tconst img = new Image ();\n\n\t\timg.onload = () => {\n\t\t\tresolve( img );\n\t\t};\n\n\t\timg.onerror = reject;\n\t\timg.src = imagePath;\n\t} );\n}\n\nexport function blobURLFromImagePath ( imagePath ) {\n\treturn loadFile( imagePath )\n\t\t.then( file => {\n\t\t\tconst mimeType = getMimeTypeFromFilePath( imagePath );\n\t\t\tconst arrayBuffer = toArrayBuffer( file.fileContent );\n\n\t\t\treturn createObjectURL( arrayBufferToBlob( arrayBuffer, mimeType ) )\n\t\t} );\n}\n\nexport function blobURLFromArrayBuffer ( arrayBuffer, mimeType ) {\n\treturn createObjectURL( arrayBufferToBlob( arrayBuffer, mimeType ) )\t\t\n}\n\nfunction imageToImageData ( img ) {\n\tconst { width, height } = getImageSize( img );\n\tconst canvasEl = document.createElement( 'canvas' );\n\tcanvasEl.width = width;\n\tcanvasEl.height = height;\n\t\n\tconst ctx = canvasEl.getContext( '2d' );\n\n\tctx.drawImage( img, 0, 0, width, height );\n\n\tconst imageData = ctx.getImageData( 0, 0, width, height );\n\n\tif ( imageData.data && imageData.data.length ) {\n\t\tif ( typeof imageData.width === 'undefined' ) {\n\t\t\timageData.width = width;\n\t\t}\n\n\t\tif ( typeof imageData.height === 'undefined' ) {\n\t\t\timageData.height = height;\n\t\t}\n\t}\n\n\treturn imageData;\n}\n\nexport function dataURLtoBlobURL ( dataURL ) {\n\treturn createObjectURL( dataURLToBlob( dataURL ) );\n}\n\nexport function getBlobURL ( blob ) {\n\treturn createObjectURL( blob );\n}\n\nexport function getImageSize ( img ) {\n\treturn {\n\t\twidth: img.width || img.naturalWidth,\n\t\theight: img.height || img.naturalHeight\n\t};\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPage.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabBar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabBar.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}